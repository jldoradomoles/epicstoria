import{a as V}from"./chunk-D3HCHVYY.js";import{a as L}from"./chunk-YILDWTQD.js";import{a as S}from"./chunk-VKYEO6ZW.js";import"./chunk-HWYJJFZ5.js";import{s as w,x as G}from"./chunk-XDCWJPAS.js";import{$a as x,Ab as d,Bb as C,Ma as j,R as h,W as m,X as g,ab as b,db as y,eb as E,fb as f,gb as a,ha as v,hb as r,ib as l,mb as _,rb as p,tb as c,wa as I,za as s}from"./chunk-C264W5OG.js";var M=(n,t)=>t.url;function z(n,t){n&1&&(a(0,"div",2),l(1,"i",6),a(2,"p",7),d(3,"Cargando galer\xEDa..."),r()())}function P(n,t){if(n&1){let e=_();a(0,"div",12),p("click",function(){let o=m(e).$implicit,u=c(2);return g(u.openImage(o))}),a(1,"div",13),l(2,"img",14),r(),a(3,"div",15)(4,"div",16)(5,"h3",17),d(6),r(),a(7,"p",18),l(8,"i",19),d(9," Click para ampliar "),r()()()()}if(n&2){let e=t.$implicit;s(2),f("src",e.url,I)("alt",e.title),s(4),C(e.title)}}function F(n,t){if(n&1&&(a(0,"div",3)(1,"div",8)(2,"h2",9),d(3,"Galer\xEDa de Eventos Hist\xF3ricos"),r()(),a(4,"div",10),y(5,P,10,3,"div",11,M),r()()),n&2){let e=c();s(5),E(e.images())}}function D(n,t){n&1&&(a(0,"div",4),l(1,"i",20),a(2,"h3",21),d(3,"No hay im\xE1genes disponibles"),r(),a(4,"p",7),d(5," Vuelve pronto para ver nuestra galer\xEDa de eventos hist\xF3ricos "),r()())}function $(n,t){if(n&1){let e=_();a(0,"a",35),p("click",function(){m(e);let o=c(2);return g(o.closeImage())}),l(1,"i",36),d(2," Ver detalles del evento "),r()}if(n&2){let e=c(2);f("routerLink",e.getEventLink(e.selectedImage()))}}function A(n,t){n&1&&(a(0,"p",34),l(1,"i",37),d(2," Evento no disponible "),r())}function O(n,t){if(n&1){let e=_();a(0,"div",22),p("click",function(){m(e);let o=c();return g(o.closeImage())}),a(1,"button",23),p("click",function(){m(e);let o=c();return g(o.closeImage())}),l(2,"i",24),r(),a(3,"button",25),p("click",function(o){return m(e),c().previousImage(),g(o.stopPropagation())}),l(4,"i",26),r(),a(5,"button",27),p("click",function(o){return m(e),c().nextImage(),g(o.stopPropagation())}),l(6,"i",28),r(),a(7,"div",29),p("click",function(o){return m(e),g(o.stopPropagation())}),l(8,"img",30),a(9,"div",31)(10,"h3",32),d(11),r(),x(12,$,3,1,"a",33)(13,A,3,0,"p",34),r()()()}if(n&2){let e=c();s(8),f("src",e.selectedImage().url,I)("alt",e.selectedImage().title),s(3),C(e.selectedImage().title),s(),b(e.getEventLink(e.selectedImage())?12:13)}}var T=class n{eventApiService=h(V);seo=h(S);images=v([]);selectedImage=v(null);isLoading=v(!0);imageFiles=["Abbas-Ibn-Firnas.jpg","Abbas-Ibn-Firnas-2.jpg","Anticitera.jpg","Anticitera-2.jpg","Anticitera-3.jpg","Cuauhtemoc.jpg","El-Cristo-del-abismo.jpg","El-Cristo-del-abismo-2.jpg","El-Cristo-del-abismo-3.jpg","El-descubrimiento-de-America.jpg","Federico-Garcia-Lorca.jpg","Federico-Garc\xEDa-Lorca-2.jpg","Federico-Garc\xEDa-Lorca-3.jpg","Georges-Jacques-Danton.jpg","Georges-Jacques-Danton-2.jpg","Isabel-de-Baviera.jpg","Isabel-de-Baviera-2.jpg","Isabel-de-Baviera-3.jpg","Jane-Goodall.jpg","Jane-Goodall-2.jpg","Jane-Goodall-3.jpg","Jean-Paul-Marat.jpg","Jean-Paul-Marat-2.jpg","Jean-Paul-Marat-3.jpg","La-Estatua-de-la-Libertad.jpg","La-Estatua-de-la-Libertad-2.jpg","La-opera-de-Viena.jpg","La-opera-de-Viena-2.jpg","La-opera-de-Viena-3.jpg","La-opera-de-Viena-4.jpg","Lozen.jpg","Lozen-2.jpg","Lozen-3.jpg","Lozen-4.jpg","Orfeo-y-Euridice.jpg","Pompeya.jpg","Roma-juicios-por-traici\xF3n.jpg","Voyager-1.jpg"];ngOnInit(){this.seo.updateMetaTags({title:"Galer\xEDa de Im\xE1genes Hist\xF3ricas",description:"Explora una colecci\xF3n visual de momentos hist\xF3ricos capturados en im\xE1genes. Desde civilizaciones antiguas hasta eventos recientes.",keywords:"galer\xEDa hist\xF3rica, im\xE1genes historia, fotograf\xEDas hist\xF3ricas, archivo visual",url:"https://epicstoria.com/galeria",type:"website"}),this.seo.updateCanonicalUrl("https://epicstoria.com/galeria"),this.loadImages()}loadImages(){this.eventApiService.getAllEvents().subscribe({next:t=>{let e=this.imageFiles.map(i=>{let o=i.replace(/\.[^/.]+$/,"").replace(/-\d+$/,""),u=t.find(k=>k.imageUrl?k.imageUrl.split("/").pop()?.replace(/\.[^/.]+$/,"")?.replace(/-\d+$/,"")===o:!1);return{url:`images/eventos/${i}`,name:i,title:this.formatTitle(i),eventId:u?u.id:null}});this.images.set(e),this.isLoading.set(!1)},error:t=>{console.error("Error loading events:",t);let e=this.imageFiles.map(i=>({url:`images/eventos/${i}`,name:i,title:this.formatTitle(i),eventId:null}));this.images.set(e),this.isLoading.set(!1)}})}formatTitle(t){return t.replace(/\.[^/.]+$/,"").replace(/-\d+$/,"").replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}getEventLink(t){return t.eventId?`/evento/${t.eventId}`:null}openImage(t){this.selectedImage.set(t)}closeImage(){this.selectedImage.set(null)}previousImage(){let t=this.selectedImage();if(!t)return;let e=this.images().findIndex(i=>i.url===t.url);e>0&&this.selectedImage.set(this.images()[e-1])}nextImage(){let t=this.selectedImage();if(!t)return;let e=this.images().findIndex(i=>i.url===t.url);e<this.images().length-1&&this.selectedImage.set(this.images()[e+1])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-galeria"]],decls:7,vars:4,consts:[[1,"py-16","px-4"],[1,"container","mx-auto"],[1,"text-center","py-12"],[1,"max-w-7xl","mx-auto"],[1,"text-center","py-16"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/90","p-4"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-amber-500","mb-4"],[1,"text-amber-200/70"],[1,"text-center","mb-12"],[1,"text-4xl","font-bold","text-amber-100","mb-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6"],[1,"group","relative","overflow-hidden","rounded-xl","bg-stone-900/50","border","border-amber-900/30","hover:border-amber-500/50","transition-all","duration-300","cursor-pointer","transform","hover:scale-105"],[1,"group","relative","overflow-hidden","rounded-xl","bg-stone-900/50","border","border-amber-900/30","hover:border-amber-500/50","transition-all","duration-300","cursor-pointer","transform","hover:scale-105",3,"click"],[1,"aspect-[4/3]","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-500",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/80","via-black/20","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"absolute","bottom-0","left-0","right-0","p-4"],[1,"text-white","font-semibold","text-lg","mb-1"],[1,"text-amber-300","text-sm","flex","items-center","gap-2"],[1,"fas","fa-search-plus"],[1,"fas","fa-images","text-6xl","text-amber-500/50","mb-4"],[1,"text-2xl","font-bold","text-amber-100","mb-2"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/90","p-4",3,"click"],[1,"absolute","top-4","right-4","text-white","hover:text-amber-400","transition-colors","z-10",3,"click"],[1,"fas","fa-times","text-3xl"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","text-white","hover:text-amber-400","transition-colors","z-10","bg-black/50","rounded-full","p-4","hover:bg-black/70",3,"click"],[1,"fas","fa-chevron-left","text-2xl"],[1,"absolute","right-4","top-1/2","-translate-y-1/2","text-white","hover:text-amber-400","transition-colors","z-10","bg-black/50","rounded-full","p-4","hover:bg-black/70",3,"click"],[1,"fas","fa-chevron-right","text-2xl"],[1,"max-w-5xl","max-h-[90vh]","relative",3,"click"],["loading","eager",1,"max-w-full","max-h-[90vh]","object-contain","rounded-lg","shadow-2xl",3,"src","alt"],[1,"absolute","bottom-0","left-0","right-0","bg-gradient-to-t","from-black/90","to-transparent","p-6","rounded-b-lg"],[1,"text-white","text-2xl","font-bold","mb-3"],[1,"inline-flex","items-center","gap-2","px-4","py-2","bg-amber-500","hover:bg-amber-600","text-white","font-semibold","rounded-lg","transition-colors","duration-200",3,"routerLink"],[1,"text-amber-300/70","text-sm"],[1,"inline-flex","items-center","gap-2","px-4","py-2","bg-amber-500","hover:bg-amber-600","text-white","font-semibold","rounded-lg","transition-colors","duration-200",3,"click","routerLink"],[1,"fas","fa-book-open"],[1,"fas","fa-info-circle","mr-2"]],template:function(e,i){e&1&&(l(0,"app-hero"),a(1,"section",0)(2,"div",1),x(3,z,4,0,"div",2),x(4,F,7,0,"div",3),x(5,D,6,0,"div",4),r()(),x(6,O,14,4,"div",5)),e&2&&(s(3),b(i.isLoading()?3:-1),s(),b(!i.isLoading()&&i.images().length>0?4:-1),s(),b(!i.isLoading()&&i.images().length===0?5:-1),s(),b(i.selectedImage()?6:-1))},dependencies:[G,w,L],styles:[".hero-section[_ngcontent-%COMP%]{min-height:400px;position:relative;background-blend-mode:overlay;background-color:#00000080}.hero-section[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#1f2937e6,#111827cc);z-index:1}.content-section[_ngcontent-%COMP%]{background-color:#1f2937;min-height:400px}.content-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}"]})};export{T as Galeria};
