<!-- Página de Detalle del Evento -->
<div class="min-h-screen">
  @if (event) {
    <!-- Hero Section con Imagen -->
    <div class="relative h-96 overflow-hidden">
      <img
        [src]="event.imageUrl"
        [alt]="event.title"
        class="heigth-full w-full object-cover opacity-60"
        (error)="onImageError($event)"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"></div>

      <!-- Botón de Regreso -->
      <div class="absolute left-4 top-4 sm:left-8 sm:top-8">
        <a
          routerLink="/"
          class="btns-color inline-flex items-center rounded-full bg-gray-800/80 px-4 py-2 text-sm font-medium text-white backdrop-blur-sm transition duration-150 hover:bg-gray-700"
        >
          <svg
            class="mr-2 h-4 w-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"
            ></path>
          </svg>
          Volver
        </a>
      </div>

      <!-- Título y Fecha en la Imagen -->
      <div class="absolute bottom-0 left-0 right-0 p-8">
        <div class="mx-auto max-w-5xl">
          <span
            [class]="
              'mb-4 inline-block rounded-full px-4 py-1 text-sm font-bold uppercase tracking-wider text-color ' +
              getCategoryColor(event.category)
            "
          >
            {{ event.category }}
          </span>
          <h1 class="text-color mb-2 text-5xl font-black md:text-6xl">{{ event.title }}</h1>
          <p class="text-xl font-semibold text-color">{{ event.date | dateFormat }}</p>
        </div>
      </div>
    </div>

    <!-- Contenido Principal -->
    <div class="mx-auto max-w-5xl px-4 py-12 sm:px-6 lg:px-8">
      <!-- Resumen -->
      <div class="mb-12 rounded-xl container-custom p-8 shadow-2xl">
        <h2 class="mb-4 text-2xl font-bold flex items-center gap-3">
          <svg
            class="w-6 h-6 text-blue-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            ></path>
          </svg>
          Resumen
        </h2>
        @for (paragraph of getParagraphs(event.summary); track $index) {
          <p class="mb-4 text-lg leading-relaxed">{{ paragraph }}</p>
        }
      </div>

      <!-- Contexto Histórico -->
      <div class="mb-12 rounded-xl container-custom p-8 shadow-2xl">
        <h2 class="mb-6 border-title pb-2 text-3xl font-bold flex items-center gap-3">
          <svg
            class="w-7 h-7 text-amber-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
            ></path>
          </svg>
          Contexto Histórico
        </h2>
        <div class="space-y-4">
          @for (paragraph of getParagraphs(event.context); track $index) {
            <p class="text-lg leading-relaxed">{{ paragraph }}</p>
          }
        </div>
      </div>
      <!-- Datos Curiosos -->
      <div class="mb-12">
        <h2 class="mb-6 text-3xl font-bold text-color-dark flex items-center gap-3">
          <svg
            class="w-7 h-7 text-purple-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
            ></path>
          </svg>
          Datos Curiosos
        </h2>
        <div class="grid gap-6 md:grid-cols-2">
          @for (fact of event.keyFacts; track fact.title) {
            <div
              class="rounded-xl container-custom p-6 transition duration-300 hover:border-blue-500/50 hover:shadow-xl"
            >
              <h3 class="mb-2 text-lg font-bold">{{ fact.title }}</h3>
              <p>{{ fact.description }}</p>
            </div>
          }
        </div>
      </div>

      <!-- Cronología -->
      <div class="mb-12">
        <h2 class="mb-6 pb-2 text-3xl font-bold text-color-dark flex items-center gap-3">
          <svg
            class="w-7 h-7 text-green-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
          Cronología
        </h2>
        <div class="space-y-6">
          @for (item of event.timeline; track item.date) {
            <div class="container-custom border-cronologia flex gap-6 pl-6">
              <div class="flex-shrink-0">
                <div class="rounded-full px-4 py-2 text-sm font-bold">
                  {{ item.date | dateFormat }}
                </div>
              </div>
              <div class="flex-grow">
                <p class="">{{ item.event }}</p>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Consecuencias -->
      <div class="mb-12 rounded-xl container-custom p-8 shadow-2xl">
        <h2 class="mb-6 text-3xl font-bold flex items-center gap-3">
          <svg
            class="w-7 h-7 text-red-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 10V3L4 14h7v7l9-11h-7z"
            ></path>
          </svg>
          Consecuencias y Legado
        </h2>
        <div class="space-y-4">
          @for (paragraph of getParagraphs(event.consequences); track $index) {
            <p class="text-lg leading-relaxed">{{ paragraph }}</p>
          }
        </div>
      </div>
    </div>

    <!-- Navegación a Otros Eventos -->
    <div class="pt-12">
      <!-- <h2 class="mb-8 text-center text-2xl font-bold text-color-dark">Otros Eventos Destacados</h2> -->
      <div class="flex justify-center gap-4">
        <a
          routerLink="/"
          fragment="eventos"
          class="btns-color rounded-full px-8 py-3 font-semibold shadow-lg transition duration-150"
        >
          Volver a los Eventos
        </a>
      </div>
    </div>
  }
</div>
