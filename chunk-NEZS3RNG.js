import{a as P}from"./chunk-XIS6F7BA.js";import{a as L}from"./chunk-YILDWTQD.js";import{a as j}from"./chunk-VKYEO6ZW.js";import"./chunk-HWYJJFZ5.js";import{c as M,d as I,s as k}from"./chunk-XDCWJPAS.js";import{$a as m,Ab as a,Bb as v,Cb as d,Ha as h,Kb as E,Ma as y,Mb as w,R as _,ab as c,bb as C,db as f,eb as b,gb as t,ha as u,hb as i,ib as s,tb as x,yb as S,za as r,zb as g}from"./chunk-C264W5OG.js";var T=(n,e)=>e.id;function J(n,e){n&1&&(t(0,"div",8),s(1,"i",13),t(2,"p",14),a(3,"Cargando clasificaci\xF3n..."),i()())}function F(n,e){if(n&1&&a(0),n&2){let o=x().$implicit;d(" ",o.lastname," ")}}function D(n,e){n&1&&s(0,"i",40)}function A(n,e){if(n&1&&(t(0,"span",41),a(1),i()),n&2){let o=x(2).$implicit;r(),d("+",o.stars-10)}}function O(n,e){if(n&1&&(f(0,D,1,0,"i",40,C),m(2,A,2,1,"span",41)),n&2){let o=x().$implicit,l=x(2);b(l.getStarsArray(o.stars)),r(2),c(o.stars>10?2:-1)}}function $(n,e){n&1&&(t(0,"span",38),a(1,"-"),i())}function q(n,e){if(n&1&&(t(0,"tr",24)(1,"td",25)(2,"div",26)(3,"div",27),s(4,"i",28),i(),t(5,"span",29),a(6),i()()(),t(7,"td",25)(8,"div",26)(9,"div",30),a(10),i(),t(11,"div")(12,"div",31),a(13),m(14,F,1,1),i(),t(15,"div",32),a(16),E(17,"date"),i()()()(),t(18,"td",33)(19,"div",34),s(20,"i",35),t(21,"span",36),a(22),i()()(),t(23,"td",25)(24,"div",37),m(25,O,3,1)(26,$,2,0,"span",38),i()(),t(27,"td",33)(28,"div",39),a(29),i()()()),n&2){let o=e.$implicit,l=e.$index,p=x(2);S("bg-amber-900/20",l<3),r(3),g(l<3?"bg-gradient-to-br from-yellow-600 to-yellow-800":"bg-stone-700"),r(),g(p.getRankIcon(l)+" "+p.getRankClass(l)),r(),g(p.getRankClass(l)),r(),d(" #",l+1," "),r(4),d(" ",p.getInitials(o.name,o.lastname)," "),r(3),d(" ",o.name," "),r(),c(o.lastname?14:-1),r(2),d(" Miembro desde ",w(17,16,o.created_at,"MMM yyyy")," "),r(6),v(o.points),r(3),c(o.stars>0?25:26),r(4),d(" ",o.quizzes_completed," ")}}function R(n,e){if(n&1&&(t(0,"div",9)(1,"div",15)(2,"table",16)(3,"thead",17)(4,"tr")(5,"th",18),a(6,"Posici\xF3n"),i(),t(7,"th",18),a(8,"Usuario"),i(),t(9,"th",19),a(10," Puntos "),i(),t(11,"th",19),a(12," Estrellas "),i(),t(13,"th",19),a(14," Quizzes "),i()()(),t(15,"tbody",20),f(16,q,30,19,"tr",21,T),i()()(),t(18,"div",22)(19,"p",14),s(20,"i",23),a(21," Total de jugadores: "),t(22,"strong",14),a(23),i()()()()),n&2){let o=x();r(16),b(o.leaderboard()),r(7),v(o.total())}}function N(n,e){n&1&&(t(0,"div",10),s(1,"i",42),t(2,"h3",43),a(3," A\xFAn no hay clasificaciones "),i(),t(4,"p",44),a(5," \xA1S\xE9 el primero en aparecer en la tabla de l\xEDderes completando quizzes! "),i(),t(6,"a",45),s(7,"i",46),a(8," Ver Eventos "),i()())}var z=class n{constructor(e){this.pointsService=e}leaderboard=u([]);isLoading=u(!1);total=u(0);limit=10;seo=_(j);ngOnInit(){this.seo.updateMetaTags({title:"Juegos y Quizzes",description:"Pon a prueba tus conocimientos de historia con nuestros quizzes interactivos. Compite en el ranking global y gana estrellas mientras aprendes.",keywords:"quiz historia, juegos educativos, trivial historia, ranking, puntos, estrellas",url:"https://epicstoria.com/juegos",type:"website"}),this.seo.updateCanonicalUrl("https://epicstoria.com/juegos"),this.loadLeaderboard()}loadLeaderboard(){this.isLoading.set(!0),this.pointsService.getLeaderboard(this.limit).subscribe({next:e=>{this.leaderboard.set(e.data.leaderboard),this.total.set(e.data.total),this.isLoading.set(!1)},error:e=>{console.error("Error loading leaderboard:",e),this.isLoading.set(!1)}})}getInitials(e,o){let l=e.charAt(0).toUpperCase(),p=o?o.charAt(0).toUpperCase():"";return l+p}getStarsArray(e){return Array(Math.min(e,10)).fill(0)}getRankClass(e){return e===0?"text-yellow-400":e===1?"text-gray-300":e===2?"text-orange-400":"text-blue-400"}getRankIcon(e){return e===0?"fa-crown":e===1?"fa-medal":e===2?"fa-award":"fa-trophy"}static \u0275fac=function(o){return new(o||n)(h(P))};static \u0275cmp=y({type:n,selectors:[["app-juegos"]],decls:19,vars:3,consts:[[1,"py-16","px-4"],[1,"container","mx-auto"],[1,"max-w-5xl","mx-auto","mb-16"],[1,"text-center","mb-8"],[1,"inline-flex","items-center","justify-center","w-20","h-20","rounded-full","bg-gradient-to-br","from-yellow-600","to-yellow-800","mb-4"],[1,"fas","fa-trophy","text-3xl","text-white"],[1,"text-4xl","font-bold","text-color","mb-2"],[1,"text-xl","text-color"],[1,"text-center","py-12"],[1,"container-custom","rounded-xl","overflow-hidden"],[1,"container-custom","rounded-xl","p-12","text-center"],[1,"text-center","max-w-3xl","mx-auto"],[1,"text-3xl","font-bold","text-color","mb-4"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-amber-500","mb-4"],[1,"text-color"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-amber-900/30","border-b","border-amber-900/50"],[1,"px-6","py-4","text-left","text-sm","font-semibold","text-color"],[1,"px-6","py-4","text-center","text-sm","font-semibold","text-color"],[1,"divide-y","divide-amber-900/30"],[1,"hover:bg-amber-900/10","transition-colors",3,"bg-amber-900/20"],[1,"bg-amber-900/20","border-t","border-amber-900/30","px-6","py-4","text-center"],[1,"fas","fa-users","mr-2"],[1,"hover:bg-amber-900/10","transition-colors"],[1,"px-6","py-4"],[1,"flex","items-center","gap-3"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-full"],[1,"fas","text-lg"],[1,"text-2xl","font-bold"],[1,"w-12","h-12","rounded-full","bg-gradient-to-br","from-amber-600","to-amber-800","flex","items-center","justify-center","text-lg","font-bold","text-white","shadow-lg","flex-shrink-0"],[1,"font-semibold","text-color"],[1,"text-sm","text-amber-200/60"],[1,"px-6","py-4","text-center"],[1,"inline-flex","items-center","gap-2","bg-amber-900/30","rounded-lg","px-4","py-2"],[1,"fas","fa-coins","text-yellow-400"],[1,"text-2xl","font-bold","text-color"],[1,"flex","items-center","justify-center","gap-1"],[1,"text-sm","text-amber-200/50"],[1,"text-lg","font-semibold","text-color"],[1,"fas","fa-star","text-yellow-400"],[1,"ml-1","text-sm","text-color"],[1,"fas","fa-trophy","text-6xl","text-amber-500/50","mb-4"],[1,"text-2xl","font-bold","text-color","mb-2"],[1,"text-color","mb-6"],["routerLink","/eventos",1,"inline-flex","items-center","gap-2","bg-amber-600","hover:bg-amber-700","text-white","font-semibold","px-6","py-3","rounded-lg","transition-colors"],[1,"fas","fa-calendar-alt"]],template:function(o,l){o&1&&(s(0,"app-hero"),t(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),s(6,"i",5),i(),t(7,"h2",6),a(8,"Tabla de L\xEDderes"),i(),t(9,"p",7),a(10,"Los mejores exploradores de la historia"),i()(),m(11,J,4,0,"div",8),m(12,R,24,1,"div",9),m(13,N,9,0,"div",10),i(),t(14,"div",11)(15,"h2",12),a(16,"M\xE1s Juegos Pr\xF3ximamente"),i(),t(17,"p",7),a(18," Estamos trabajando en emocionantes juegos interactivos para que disfrutes aprendiendo historia. \xA1Vuelve pronto para descubrir nuevas formas de explorar el pasado y ganar m\xE1s puntos! "),i()()()()),o&2&&(r(11),c(l.isLoading()?11:-1),r(),c(!l.isLoading()&&l.leaderboard().length>0?12:-1),r(),c(!l.isLoading()&&l.leaderboard().length===0?13:-1))},dependencies:[I,k,L,M],styles:[".hero-section[_ngcontent-%COMP%]{min-height:400px;position:relative;background-blend-mode:overlay;background-color:#00000080}.hero-section[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#1f2937e6,#111827cc);z-index:1}.content-section[_ngcontent-%COMP%]{background-color:#1f2937;min-height:400px}.content-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}"]})};export{z as Juegos};
