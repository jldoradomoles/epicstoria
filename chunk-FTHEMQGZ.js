import{a as j}from"./chunk-UUATVIRP.js";import{a as U,b as V,d as B}from"./chunk-BJ4EUBTB.js";import{a as L}from"./chunk-D3HCHVYY.js";import{a as z}from"./chunk-YILDWTQD.js";import{a as H}from"./chunk-VKYEO6ZW.js";import"./chunk-HWYJJFZ5.js";import{b as T,s as D}from"./chunk-XDCWJPAS.js";import{Ab as c,Bb as u,Cb as h,Jb as F,Kb as P,Lb as k,Ma as d,R as l,Vb as O,W as C,X as b,a as p,b as m,db as w,eb as I,fb as g,gb as r,hb as s,ib as S,mb as M,rb as f,tb as x,wa as y,ya as _,za as a}from"./chunk-C264W5OG.js";var R=o=>["/evento",o],W=(o,t)=>t.id;function Y(o,t){if(o&1){let e=M();r(0,"a",4)(1,"div",5)(2,"img",6),f("error",function(i){C(e);let E=x();return b(E.onImageError(i))}),s(),r(3,"span",7),c(4),s()(),r(5,"div",8)(6,"p",9),c(7),P(8,"dateFormat"),s(),r(9,"h4",10),c(10),s(),r(11,"p",11),c(12),s(),r(13,"span",12),c(14," Ver M\xE1s \u2192 "),s()()()}if(o&2){let e=t.$implicit,n=x();g("routerLink",F(10,R,e.slug||e.id)),a(2),g("src",e.imageUrl,y)("alt",e.title),a(),g("ngClass",n.getCategoryColor(e.category)),a(),h(" ",e.category," "),a(3),u(k(8,8,e.date)),a(3),u(e.title),a(2),h(" ",n.getPlainText(e.summary)," ")}}var v=class o{eventApiService=l(L);cdr=l(O);events=[];isMobile=!1;defaultImage="https://placehold.co/600x400/1F2937/FFFFFF?text=Evento+Hist%C3%B3rico";getCategoryColor=V;getPlainText=B;get displayedEvents(){let t=this.isMobile?3:6;return this.events.slice(0,t)}ngOnInit(){this.checkScreenSize(),console.log("Loading events from database"),this.eventApiService.getAllEvents().subscribe({next:async t=>{console.log("Events loaded successfully:",t),this.events=await this.processEventImages(t),this.cdr.markForCheck()},error:t=>{console.error("Error loading events:",t)}})}async processEventImages(t){let e=t.map(n=>{let i=n.imageUrl;return i?i.startsWith("http")?m(p({},n),{imageUrl:i}):(i.startsWith("/")||(i=`/${i}`),i.match(/\.(jpg|jpeg|png|gif|webp)$/i)||(i=`${i}.png`),m(p({},n),{imageUrl:i})):m(p({},n),{imageUrl:this.defaultImage})});return Promise.resolve(e)}async onImageError(t){let e=t.target;await j(t,e.src,this.defaultImage)}onResize(){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<768}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-event-cards"]],hostBindings:function(e,n){e&1&&f("resize",function(){return n.onResize()},_)},decls:7,vars:0,consts:[["id","eventos",1,"py-20"],[1,"mx-auto","max-w-7xl","px-4","sm:px-6","lg:px-8"],[1,"mb-16","inline-block","pb-2","text-center","text-4xl","font-bold","text-color","w-100"],[1,"grid","grid-cols-1","gap-10","md:grid-cols-2","lg:grid-cols-3"],[1,"container-custom","flex","flex-col","overflow-hidden","rounded-xl","shadow-2xl","transition","duration-300","hover:shadow-blue-500/20","hover:scale-[1.02]","cursor-pointer",3,"routerLink"],[1,"relative","h-56","bg-gradient-to-tr","from-gray-700","to-gray-900"],["loading","lazy",1,"h-full","w-full","object-cover",3,"error","src","alt"],[1,"text-color","absolute","left-4","top-4","rounded-full","px-3","py-1","text-xs","font-bold","uppercase","tracking-wider",3,"ngClass"],[1,"flex","flex-grow","flex-col","p-6"],[1,"text-color","mb-2","text-sm","font-semibold"],[1,"text-color","mb-3","text-2xl","font-bold"],[1,"text-color","mb-4","text-base","line-clamp-3"],[1,"text-color","mt-4","self-start","text-sm","font-medium","hover:text-blue-300"]],template:function(e,n){e&1&&(r(0,"section",0)(1,"div",1)(2,"h3",2),c(3," Ultimos Eventos "),s(),r(4,"div",3),w(5,Y,15,12,"a",4,W),s()()()),e&2&&(a(5),I(n.displayedEvents))},dependencies:[D,T,U],styles:['@charset "UTF-8";.history-card[_ngcontent-%COMP%]{background-color:#1f150c}.text-color[_ngcontent-%COMP%]{color:#fff}.container-custom[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.01);box-shadow:19px 20px 25px 6px #0000004d,17px 20px 9px #0003;border-color:#f5f5f5}.container-custom[_ngcontent-%COMP%]{transition:all .3s ease-in-out;border:1px solid rgba(255,255,255,.1)}']})};var N=class o{seo=l(H);ngOnInit(){this.seo.updateMetaTags({title:"Eventos Hist\xF3ricos",description:"Descubre y explora una colecci\xF3n completa de eventos hist\xF3ricos fascinantes. Desde batallas \xE9picas hasta descubrimientos cient\xEDficos revolucionarios.",keywords:"eventos hist\xF3ricos, historia mundial, cronolog\xEDa hist\xF3rica, hechos hist\xF3ricos, cultura, ciencia, guerras, descubrimientos",url:"https://epicstoria.com/eventos",type:"website"}),this.seo.updateCanonicalUrl("https://epicstoria.com/eventos")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-eventos"]],decls:2,vars:0,template:function(e,n){e&1&&S(0,"app-hero")(1,"app-event-cards")},dependencies:[v,z],styles:[".eventos-page[_ngcontent-%COMP%]{min-height:calc(100vh - 200px)}.eventos-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;margin-top:2rem}"]})};export{N as Eventos};
